{"version":3,"sources":["login.js"],"names":["ctx","response","users","args","username","password","console","log","s","url","data","JSON","stringify","user","where","login","then","first_name","catch","err","json","message"],"mappings":";;;;;;AAAA;;;;AAEA;;;;;;kBAEgBA,GAAD,IAAS;AACtB,QAAM,EAACC,QAAD,EAAWC,KAAX,KAAoB,6BAAQF,GAAR,CAA1B;;AAEA,MAAIA,IAAIG,IAAJ,CAASC,QAAT,IAAqBJ,IAAIG,IAAJ,CAASE,QAAlC,EAA4C;AAC1CC,YAAQC,GAAR,CAAY,WAAZ;AACA,UAAMC,IAAI,4BAAkB,yBAAlB,CAAV;AACA,UAAMJ,WAAWJ,IAAIG,IAAJ,CAASC,QAA1B;AACA,UAAMC,WAAWL,IAAIG,IAAJ,CAASE,QAA1B;AACA,UAAMI,MAAO,yEAAb;AACA,UAAMC,OAAOC,KAAKC,SAAL,CAAe,EAACR,QAAD,EAAUC,QAAV,EAAf,CAAb;AACA,UAAMQ,OAAOX,MAAMY,KAAN,CAAY,UAAZ,EAAuBV,QAAvB,CAAb;;AAEEE,YAAQC,GAAR,CAAYM,IAAZ;AACA,WAAOA,IAAP;AACFL,MAAEO,KAAF,CAAQX,QAAR,EAAkBC,QAAlB,EACDW,IADC,CACIH,QAAQP,QAAQC,GAAR,CAAa,SAAQM,KAAKI,UAAW,EAArC,CADZ,EAEDC,KAFC,CAEKC,OAAOb,QAAQC,GAAR,CAAY,+BAAZ,CAFZ;AAGE;AACA;AACA;AACA;AACA;AACF;AACA;AACA;AACD,GAtBD,MAsBO;AACLN,aAASmB,IAAT,CAAc;AACZC,eAAS;AADG,KAAd,EAEG,GAFH;AAGD;AACF,C;AAjCD","file":"login.js","sourcesContent":["import Syncano from 'syncano-server';\n// import fetch from 'axios';\nimport SyncanoClient from 'syncano-client';\n\nexport default (ctx) => {\n  const {response, users} = Syncano(ctx)\n\n  if (ctx.args.username && ctx.args.password) {\n    console.log('in method');\n    const s = new SyncanoClient('falling-wildflower-6623')\n    const username = ctx.args.username;\n    const password = ctx.args.password;\n    const url = `https://api.syncano.io/v2/instances/falling-wildflower-6623/users/auth/`\n    const data = JSON.stringify({username,password});\n    const user = users.where('password',username);\n\n      console.log(user);\n      return user;\n    s.login(username, password)\n  .then(user => console.log(`Hello ${user.first_name}`))\n  .catch(err => console.log('Invalid username or password.'))\n      // .then(user=>{\n      //   console.log(user);\n      //   this.setToken(user.Token);\n      //   return user;\n      // })\n    // response.json({\n    //   message: `Hello ${ctx.args.username} ${ctx.args.password}!`\n    // })\n  } else {\n    response.json({\n      message: 'You have to send \"firstname\" and \"lastname\" arguments!'\n    }, 400)\n  }\n}\n"]}