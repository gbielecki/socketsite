{"version":3,"sources":["addSocket.js"],"names":["ctx","data","response","args","socketName","socketDescription","socket","create","name","description","author","then","list","sockets","json","message"],"mappings":";;;;;;AAAA;;;;;;kBAEgBA,GAAD,IAAS;AACtB,QAAM,EAACC,IAAD,EAAMC,QAAN,KAAkB,6BAAQF,GAAR,CAAxB;;AAEA,MAAIA,IAAIG,IAAJ,CAASC,UAAT,IAAuBJ,IAAIG,IAAJ,CAASE,iBAApC,EAAuD;;AAErD;AACA;AACAJ,SAAKK,MAAL,CAAYC,MAAZ,CAAmB;AACfC,YAAMR,IAAIG,IAAJ,CAASC,UADA;AAEfK,mBAAaT,IAAIG,IAAJ,CAASE,iBAFP;AAGfK,cAAQ;AAHO,KAAnB,EAKGC,IALH,CAKQ,MAAK;AACT,aAAOV,KAAKK,MAAL,CAAYM,IAAZ,EAAP;AACD,KAPH,EAQGD,IARH,CAQQE,WAAW;AACfX,eAASY,IAAT,CAAcD,OAAd;AACD,KAVH;AAWD,GAfD,MAeO;AACLX,aAASY,IAAT,CAAc;AACZC,eAAS;AADG,KAAd,EAEG,GAFH;AAGD;AACF,C","file":"addSocket.js","sourcesContent":["import Syncano from 'syncano-server'\r\n\r\nexport default (ctx) => {\r\n  const {data,response} = Syncano(ctx)\r\n\r\n  if (ctx.args.socketName && ctx.args.socketDescription) {\r\n      \r\n    // console.log(ctx.meta);\r\n    // response.json({user: ctx},200);\r\n    data.socket.create({\r\n        name: ctx.args.socketName, \r\n        description: ctx.args.socketDescription, \r\n        author: 'val'\r\n      })\r\n      .then(()=> {\r\n        return data.socket.list()\r\n      })\r\n      .then(sockets => {\r\n        response.json(sockets)\r\n      })\r\n  } else {\r\n    response.json({\r\n      message: 'You have to send \"socketName\" and \"socketDescription\" arguments!'\r\n    }, 400)\r\n  }\r\n}\r\n"]}